(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{551:function(a,s,e){"use strict";e.r(s);var n=e(2),r=Object(n.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",[a._v("字面量是苹果在2012年的开发者大会出现的新特性之一. 可以帮助程序员更加高效的编写代码. 在XCode4.4以后可以使用.")])]),a._v(" "),e("h2",{attrs:{id:"_1-数字-nsnumber"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-数字-nsnumber"}},[a._v("#")]),a._v(" 1. 数字(NSNumber)")]),a._v(" "),e("p",[a._v("简化前的写法:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    NSNumber *value;\n    value = [NSNumber numberWithInt:123];\n    value = [NSNumber numberWithFloat:123.45f];\n    value = [NSNumber numberWithDouble:123.45];\n    value = [NSNumber numberWithBool:YES];\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("简化后的写法:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    NSNumber *value;\n    value = @123;\n    value = @123.45f;\n    value = @123.45;\n    value = @YES;\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br")])]),e("p",[a._v("装箱表达式也可以采用类似的写法:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('    NSNumber *piOverSixteen = [NSNumber numberWithDouble:(M_PI / 16)];\n    NSString *path = [NSString stringWithUTF8String:getenv("PATH")];\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("简写后:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('    NSNumber *piOverSixteen = @(M_PI / 16);\n    NSString *path = @(getenv("PATH"));\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("UI有字符串表达式来说, 需要注意, 表达式的值一定不能是NULL, 否则系统会抛出异常.")]),a._v(" "),e("h2",{attrs:{id:"_2-数组-nsarray"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-数组-nsarray"}},[a._v("#")]),a._v(" 2. 数组(NSArray)")]),a._v(" "),e("p",[a._v("数组的初始化方法有很多, 这里就不再一一罗列, 直接看新的写法.")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('    NSArray *array;\n    array = @[];                 // 空数组\n    array = @[@"a"];             // 一个对象的数组\n    array = @[@"a", @"b", @"c"]; // 多个对象的数组\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("需要注意的是如果, 有对象为nil的话, 运行时系统会抛出异常.")]),a._v(" "),e("h2",{attrs:{id:"_3-字典-nsdictionary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-字典-nsdictionary"}},[a._v("#")]),a._v(" 3. 字典(NSDictionary)")]),a._v(" "),e("p",[a._v("字面量写法:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    NSDictionary *dic;\n    dic =  @{};              // 空字典\n    dic = @{k1 : v1};                 // 包含一个键值对的字典\n    dic = @{k1 : v1, k2 : v2, k3: v3};   // 包含多个键值对的字典\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h2",{attrs:{id:"_4-下标法与容器类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-下标法与容器类"}},[a._v("#")]),a._v(" 4. 下标法与容器类")]),a._v(" "),e("p",[a._v("可以通过下标的方式存取数组和字典的数据.\n对于数组:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('    NSArray *array = @[@"a", @"b", @"c"];\n    // 通过下标方式获取数组对象, 替换原有写法: [array objectAtIndex:i];\n    id obj = array[i];\n    // 也可以直接维数组对象赋值.替换原有写法\n    array[i] = newObj;\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("对于字典:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("    NSDictionary *dic = @{k1 : v1, k2 : v2, k3: v3}; ;\n    // 获取v2对象, 替换原有写法: [dic objectForKey:k2];\n    id obj = dic[k2];\n    // 重新为键为k2的对象赋值\n    dic[k2] = newObj;\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("##5. 容器类数据结构简化的限制\n采用上述写法构建的容器都是不可变的, 如果需要生成可变容器, 可以传递-mutableCopy消息. 例如:")]),a._v(" "),e("div",{staticClass:"language-objc line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('   NSMutableArray *mutablePlants = [@[@"Mercury", @"venus", @"Earth"] mutableCopy];\n   NSMutableArray *mutablePlants = @[@"Mercury", @"venus", @"Earth"].mutableCopy;\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("#总结")]),a._v(" "),e("ol",[e("li",[a._v("尽量使用对象字面量语法创建字符串, 数字, 数组和字典等.")]),a._v(" "),e("li",[a._v("在数组和字典中, 要使用关键字和索引做下标来获取数据")]),a._v(" "),e("li",[a._v("使用对象字面量语法时, 容器类里不可是nil, 否则运行时会抛出异常.")])])])}),[],!1,null,null,null);s.default=r.exports}}]);